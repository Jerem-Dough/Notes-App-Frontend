{"ast":null,"code":"import React,{useState,useEffect}from'react';import{TextField,Button,Typography,Box,Link,Switch}from'@mui/material';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[username,setUsername]=useState('');const[password,setPassword]=useState('');const[darkMode,setDarkMode]=useState(false);const navigate=useNavigate();const handleLogin=async e=>{e.preventDefault();const response=await fetch('http://localhost:5000/api/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({username,password})});const data=await response.json();if(response.ok){localStorage.setItem('token',data.token);navigate('/');}else{console.error('Login failed:',data.message);}};// Update CSS variables for dark mode\nuseEffect(()=>{if(darkMode){document.documentElement.style.setProperty('--background-color','#121212');document.documentElement.style.setProperty('--text-color','#e0e0e0');document.documentElement.style.setProperty('--box-background-color','#1e1e1e');document.documentElement.style.setProperty('--button-color','#bb86fc');}else{document.documentElement.style.setProperty('--background-color','#f5f5f5');document.documentElement.style.setProperty('--text-color','#333');document.documentElement.style.setProperty('--box-background-color','#ffffff');document.documentElement.style.setProperty('--button-color','#1976d2');}},[darkMode]);return/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',flexDirection:'column',justifyContent:'center',alignItems:'center',minHeight:'90vh',// Reduce the height to raise the entire content\nbackgroundColor:'var(--background-color)',// Use the variable for background color\npadding:0,margin:0},children:[/*#__PURE__*/_jsxs(Box,{sx:{position:'absolute',top:20,right:20},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body1\",component:\"div\",sx:{color:'var(--text-color)'},children:\"Dark Mode\"}),/*#__PURE__*/_jsx(Switch,{checked:darkMode,onChange:()=>setDarkMode(!darkMode),color:\"default\"})]}),/*#__PURE__*/_jsx(Typography,{variant:\"h3\",gutterBottom:true,style:{whiteSpace:'nowrap',color:'var(--text-color)'},children:\"Jeremy's Notes App\"}),/*#__PURE__*/_jsxs(Box,{sx:{width:'100%',maxWidth:'400px',padding:'20px',borderRadius:'8px',boxShadow:'0 4px 8px rgba(0, 0, 0, 0.1)',backgroundColor:'var(--box-background-color)',// Use variable for box background\ntextAlign:'center'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,sx:{color:'var(--text-color)'},children:\"Login\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,children:[/*#__PURE__*/_jsx(TextField,{label:\"Username\",fullWidth:true,margin:\"normal\",value:username,onChange:e=>setUsername(e.target.value),inputProps:{style:{fontSize:18,padding:'10px',color:'var(--text-color)'}},InputLabelProps:{style:{fontSize:18,color:'var(--text-color)'}}}),/*#__PURE__*/_jsx(TextField,{label:\"Password\",type:\"password\",fullWidth:true,margin:\"normal\",value:password,onChange:e=>setPassword(e.target.value),inputProps:{style:{fontSize:18,padding:'10px',color:'var(--text-color)'}},InputLabelProps:{style:{fontSize:18,color:'var(--text-color)'}}}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",type:\"submit\",fullWidth:true,sx:{marginTop:'20px',padding:'10px',fontSize:'18px',backgroundColor:'var(--button-color)'},children:\"Login\"})]}),/*#__PURE__*/_jsx(Link,{href:\"/signup\",sx:{marginTop:'20px',display:'block',fontSize:'16px',color:'var(--text-color)'},children:\"Create an Account\"})]})]});};export default Login;","map":{"version":3,"names":["React","useState","useEffect","TextField","Button","Typography","Box","Link","Switch","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","username","setUsername","password","setPassword","darkMode","setDarkMode","navigate","handleLogin","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","data","json","ok","localStorage","setItem","token","console","error","message","document","documentElement","style","setProperty","sx","display","flexDirection","justifyContent","alignItems","minHeight","backgroundColor","padding","margin","children","position","top","right","variant","component","color","checked","onChange","gutterBottom","whiteSpace","width","maxWidth","borderRadius","boxShadow","textAlign","onSubmit","label","fullWidth","value","target","inputProps","fontSize","InputLabelProps","type","marginTop","href"],"sources":["D:/5 Downloads/Skool/Comp Sci/Java/web-based-notes/notes-frontend/src/components/Login.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { TextField, Button, Typography, Box, Link, Switch } from '@mui/material';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nconst Login = () => {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [darkMode, setDarkMode] = useState(false);\r\n  const navigate = useNavigate();\r\n\r\n  const handleLogin = async (e) => {\r\n    e.preventDefault();\r\n    const response = await fetch('http://localhost:5000/api/login', {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ username, password }),\r\n    });\r\n\r\n    const data = await response.json();\r\n    if (response.ok) {\r\n      localStorage.setItem('token', data.token);\r\n      navigate('/');\r\n    } else {\r\n      console.error('Login failed:', data.message);\r\n    }\r\n  };\r\n\r\n  // Update CSS variables for dark mode\r\n  useEffect(() => {\r\n    if (darkMode) {\r\n      document.documentElement.style.setProperty('--background-color', '#121212');\r\n      document.documentElement.style.setProperty('--text-color', '#e0e0e0');\r\n      document.documentElement.style.setProperty('--box-background-color', '#1e1e1e');\r\n      document.documentElement.style.setProperty('--button-color', '#bb86fc');\r\n    } else {\r\n      document.documentElement.style.setProperty('--background-color', '#f5f5f5');\r\n      document.documentElement.style.setProperty('--text-color', '#333');\r\n      document.documentElement.style.setProperty('--box-background-color', '#ffffff');\r\n      document.documentElement.style.setProperty('--button-color', '#1976d2');\r\n    }\r\n  }, [darkMode]);\r\n\r\n  return (\r\n    <Box\r\n      sx={{\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        minHeight: '90vh',  // Reduce the height to raise the entire content\r\n        backgroundColor: 'var(--background-color)',  // Use the variable for background color\r\n        padding: 0,\r\n        margin: 0,\r\n      }}\r\n    >\r\n      {/* Dark mode toggle */}\r\n      <Box sx={{ position: 'absolute', top: 20, right: 20 }}>\r\n        <Typography variant=\"body1\" component=\"div\" sx={{ color: 'var(--text-color)' }}>\r\n          Dark Mode\r\n        </Typography>\r\n        <Switch\r\n          checked={darkMode}\r\n          onChange={() => setDarkMode(!darkMode)}\r\n          color=\"default\"\r\n        />\r\n      </Box>\r\n\r\n      {/* Header */}\r\n      <Typography variant=\"h3\" gutterBottom style={{ whiteSpace: 'nowrap', color: 'var(--text-color)' }}>\r\n        Jeremy's Notes App\r\n      </Typography>\r\n\r\n      <Box\r\n        sx={{\r\n          width: '100%',\r\n          maxWidth: '400px',\r\n          padding: '20px',\r\n          borderRadius: '8px',\r\n          boxShadow: '0 4px 8px rgba(0, 0, 0, 0.1)',\r\n          backgroundColor: 'var(--box-background-color)',  // Use variable for box background\r\n          textAlign: 'center',\r\n        }}\r\n      >\r\n        <Typography variant=\"h4\" gutterBottom sx={{ color: 'var(--text-color)' }}>\r\n          Login\r\n        </Typography>\r\n        <form onSubmit={handleLogin}>\r\n          <TextField\r\n            label=\"Username\"\r\n            fullWidth\r\n            margin=\"normal\"\r\n            value={username}\r\n            onChange={(e) => setUsername(e.target.value)}\r\n            inputProps={{ style: { fontSize: 18, padding: '10px', color: 'var(--text-color)' } }}\r\n            InputLabelProps={{ style: { fontSize: 18, color: 'var(--text-color)' } }}\r\n          />\r\n          <TextField\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            fullWidth\r\n            margin=\"normal\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            inputProps={{ style: { fontSize: 18, padding: '10px', color: 'var(--text-color)' } }}\r\n            InputLabelProps={{ style: { fontSize: 18, color: 'var(--text-color)' } }}\r\n          />\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            type=\"submit\"\r\n            fullWidth\r\n            sx={{ marginTop: '20px', padding: '10px', fontSize: '18px', backgroundColor: 'var(--button-color)' }}\r\n          >\r\n            Login\r\n          </Button>\r\n        </form>\r\n        <Link href=\"/signup\" sx={{ marginTop: '20px', display: 'block', fontSize: '16px', color: 'var(--text-color)' }}>\r\n          Create an Account\r\n        </Link>\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,SAAS,CAAEC,MAAM,CAAEC,UAAU,CAAEC,GAAG,CAAEC,IAAI,CAAEC,MAAM,KAAQ,eAAe,CAChF,OAASC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/C,KAAM,CAAAC,KAAK,CAAGA,CAAA,GAAM,CAClB,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACgB,QAAQ,CAAEC,WAAW,CAAC,CAAGjB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAACkB,QAAQ,CAAEC,WAAW,CAAC,CAAGnB,QAAQ,CAAC,KAAK,CAAC,CAC/C,KAAM,CAAAoB,QAAQ,CAAGZ,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAa,WAAW,CAAG,KAAO,CAAAC,CAAC,EAAK,CAC/BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,iCAAiC,CAAE,CAC9DC,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEhB,QAAQ,CAAEE,QAAS,CAAC,CAC7C,CAAC,CAAC,CAEF,KAAM,CAAAe,IAAI,CAAG,KAAM,CAAAP,QAAQ,CAACQ,IAAI,CAAC,CAAC,CAClC,GAAIR,QAAQ,CAACS,EAAE,CAAE,CACfC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEJ,IAAI,CAACK,KAAK,CAAC,CACzChB,QAAQ,CAAC,GAAG,CAAC,CACf,CAAC,IAAM,CACLiB,OAAO,CAACC,KAAK,CAAC,eAAe,CAAEP,IAAI,CAACQ,OAAO,CAAC,CAC9C,CACF,CAAC,CAED;AACAtC,SAAS,CAAC,IAAM,CACd,GAAIiB,QAAQ,CAAE,CACZsB,QAAQ,CAACC,eAAe,CAACC,KAAK,CAACC,WAAW,CAAC,oBAAoB,CAAE,SAAS,CAAC,CAC3EH,QAAQ,CAACC,eAAe,CAACC,KAAK,CAACC,WAAW,CAAC,cAAc,CAAE,SAAS,CAAC,CACrEH,QAAQ,CAACC,eAAe,CAACC,KAAK,CAACC,WAAW,CAAC,wBAAwB,CAAE,SAAS,CAAC,CAC/EH,QAAQ,CAACC,eAAe,CAACC,KAAK,CAACC,WAAW,CAAC,gBAAgB,CAAE,SAAS,CAAC,CACzE,CAAC,IAAM,CACLH,QAAQ,CAACC,eAAe,CAACC,KAAK,CAACC,WAAW,CAAC,oBAAoB,CAAE,SAAS,CAAC,CAC3EH,QAAQ,CAACC,eAAe,CAACC,KAAK,CAACC,WAAW,CAAC,cAAc,CAAE,MAAM,CAAC,CAClEH,QAAQ,CAACC,eAAe,CAACC,KAAK,CAACC,WAAW,CAAC,wBAAwB,CAAE,SAAS,CAAC,CAC/EH,QAAQ,CAACC,eAAe,CAACC,KAAK,CAACC,WAAW,CAAC,gBAAgB,CAAE,SAAS,CAAC,CACzE,CACF,CAAC,CAAE,CAACzB,QAAQ,CAAC,CAAC,CAEd,mBACEN,KAAA,CAACP,GAAG,EACFuC,EAAE,CAAE,CACFC,OAAO,CAAE,MAAM,CACfC,aAAa,CAAE,QAAQ,CACvBC,cAAc,CAAE,QAAQ,CACxBC,UAAU,CAAE,QAAQ,CACpBC,SAAS,CAAE,MAAM,CAAG;AACpBC,eAAe,CAAE,yBAAyB,CAAG;AAC7CC,OAAO,CAAE,CAAC,CACVC,MAAM,CAAE,CACV,CAAE,CAAAC,QAAA,eAGFzC,KAAA,CAACP,GAAG,EAACuC,EAAE,CAAE,CAAEU,QAAQ,CAAE,UAAU,CAAEC,GAAG,CAAE,EAAE,CAAEC,KAAK,CAAE,EAAG,CAAE,CAAAH,QAAA,eACpD3C,IAAA,CAACN,UAAU,EAACqD,OAAO,CAAC,OAAO,CAACC,SAAS,CAAC,KAAK,CAACd,EAAE,CAAE,CAAEe,KAAK,CAAE,mBAAoB,CAAE,CAAAN,QAAA,CAAC,WAEhF,CAAY,CAAC,cACb3C,IAAA,CAACH,MAAM,EACLqD,OAAO,CAAE1C,QAAS,CAClB2C,QAAQ,CAAEA,CAAA,GAAM1C,WAAW,CAAC,CAACD,QAAQ,CAAE,CACvCyC,KAAK,CAAC,SAAS,CAChB,CAAC,EACC,CAAC,cAGNjD,IAAA,CAACN,UAAU,EAACqD,OAAO,CAAC,IAAI,CAACK,YAAY,MAACpB,KAAK,CAAE,CAAEqB,UAAU,CAAE,QAAQ,CAAEJ,KAAK,CAAE,mBAAoB,CAAE,CAAAN,QAAA,CAAC,oBAEnG,CAAY,CAAC,cAEbzC,KAAA,CAACP,GAAG,EACFuC,EAAE,CAAE,CACFoB,KAAK,CAAE,MAAM,CACbC,QAAQ,CAAE,OAAO,CACjBd,OAAO,CAAE,MAAM,CACfe,YAAY,CAAE,KAAK,CACnBC,SAAS,CAAE,8BAA8B,CACzCjB,eAAe,CAAE,6BAA6B,CAAG;AACjDkB,SAAS,CAAE,QACb,CAAE,CAAAf,QAAA,eAEF3C,IAAA,CAACN,UAAU,EAACqD,OAAO,CAAC,IAAI,CAACK,YAAY,MAAClB,EAAE,CAAE,CAAEe,KAAK,CAAE,mBAAoB,CAAE,CAAAN,QAAA,CAAC,OAE1E,CAAY,CAAC,cACbzC,KAAA,SAAMyD,QAAQ,CAAEhD,WAAY,CAAAgC,QAAA,eAC1B3C,IAAA,CAACR,SAAS,EACRoE,KAAK,CAAC,UAAU,CAChBC,SAAS,MACTnB,MAAM,CAAC,QAAQ,CACfoB,KAAK,CAAE1D,QAAS,CAChB+C,QAAQ,CAAGvC,CAAC,EAAKP,WAAW,CAACO,CAAC,CAACmD,MAAM,CAACD,KAAK,CAAE,CAC7CE,UAAU,CAAE,CAAEhC,KAAK,CAAE,CAAEiC,QAAQ,CAAE,EAAE,CAAExB,OAAO,CAAE,MAAM,CAAEQ,KAAK,CAAE,mBAAoB,CAAE,CAAE,CACrFiB,eAAe,CAAE,CAAElC,KAAK,CAAE,CAAEiC,QAAQ,CAAE,EAAE,CAAEhB,KAAK,CAAE,mBAAoB,CAAE,CAAE,CAC1E,CAAC,cACFjD,IAAA,CAACR,SAAS,EACRoE,KAAK,CAAC,UAAU,CAChBO,IAAI,CAAC,UAAU,CACfN,SAAS,MACTnB,MAAM,CAAC,QAAQ,CACfoB,KAAK,CAAExD,QAAS,CAChB6C,QAAQ,CAAGvC,CAAC,EAAKL,WAAW,CAACK,CAAC,CAACmD,MAAM,CAACD,KAAK,CAAE,CAC7CE,UAAU,CAAE,CAAEhC,KAAK,CAAE,CAAEiC,QAAQ,CAAE,EAAE,CAAExB,OAAO,CAAE,MAAM,CAAEQ,KAAK,CAAE,mBAAoB,CAAE,CAAE,CACrFiB,eAAe,CAAE,CAAElC,KAAK,CAAE,CAAEiC,QAAQ,CAAE,EAAE,CAAEhB,KAAK,CAAE,mBAAoB,CAAE,CAAE,CAC1E,CAAC,cACFjD,IAAA,CAACP,MAAM,EACLsD,OAAO,CAAC,WAAW,CACnBE,KAAK,CAAC,SAAS,CACfkB,IAAI,CAAC,QAAQ,CACbN,SAAS,MACT3B,EAAE,CAAE,CAAEkC,SAAS,CAAE,MAAM,CAAE3B,OAAO,CAAE,MAAM,CAAEwB,QAAQ,CAAE,MAAM,CAAEzB,eAAe,CAAE,qBAAsB,CAAE,CAAAG,QAAA,CACtG,OAED,CAAQ,CAAC,EACL,CAAC,cACP3C,IAAA,CAACJ,IAAI,EAACyE,IAAI,CAAC,SAAS,CAACnC,EAAE,CAAE,CAAEkC,SAAS,CAAE,MAAM,CAAEjC,OAAO,CAAE,OAAO,CAAE8B,QAAQ,CAAE,MAAM,CAAEhB,KAAK,CAAE,mBAAoB,CAAE,CAAAN,QAAA,CAAC,mBAEhH,CAAM,CAAC,EACJ,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAxC,KAAK","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}